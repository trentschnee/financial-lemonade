for(var START_POINTS=5,allCardElements=document.querySelectorAll(".card"),eCache={board:document.querySelector(".game-board"),nextTurnBtn:document.querySelector(".next-turn"),allCards:document.querySelectorAll(".card"),playerPoints:document.querySelector(".player-stats .life-total"),playerPointsMeter:document.querySelector(".player-stats .life-left"),playerIcon:document.querySelector(".player-stats .thumbnail"),startGmBtn:document.querySelector(".start-game"),lifePoints:document.querySelector(".life-stats .life-total"),lifePointsMeter:document.querySelector(".life-stats .life-left"),lifeIcon:document.querySelector(".life-stats .thumbnail"),winnerSection:document.querySelector(".winner-section")},boardModule=function(){var e=["player","life"].reduce(function(e,r){var a={};return a[r]=START_POINTS,Object.assign({},e,a)},{}),r=eCache.board,a=eCache.allCards,t={points:function(){function r(e){var r=START_POINTS,a=parseInt(e);return Math.min(Math.max(a,0),r)}e.player=r(e.player),e.life=r(e.life),eCache.playerPoints.innerHTML=e.player,eCache.lifePoints.innerHTML=e.life;var a=e.player/START_POINTS*100;a<0&&(a=0),eCache.playerPointsMeter.style.height=a+"%";var t=e.life/START_POINTS*100;t<0&&(t=0),eCache.lifePointsMeter.style.height=t+"%"}};return t.points(),{render:t,gameBoard:r,cards:a,points:e,checkWin:function(){return e.player<=0?"life":e.life<=0?"player":null}}}(),board=boardModule,player=player(),i=0;i<allCardElements.length;i++){var card=allCardElements[i];card.classList.contains("player-card")&&card.addEventListener("click",function(e){e.preventDefault(),player.playTurn(this)})}var cardSelected=!1,scenarios=[{lifeCard:{description:"You just got out of college and need a new car for your brand new job which gave you a huge pay raise.",power:4},playerCards:[{description:"Check my budget and make sure that I have enough to buy an affordable, gas-efficient, low-maintence car.",power:5},{description:"Buy used car because I don't want expensive payments.",power:4},{description:"Buy my expensive dream car because I deserve it and can finally afford to make payments.",power:2}]},{lifeCard:{description:"You have no retirment and your job just offered a plan that all your co workers are talking about.",power:3},playerCards:[{description:"Speak to a financial advisor and look more into the retirement plan.",power:4},{description:"Don't look into it much because I'm sure I'll be fine and will figure it out later.",power:2},{description:"Retirement is a sham; that's what social security is for!",power:1}]},{lifeCard:{description:"You're very young and currently don't have health care. However, your fulltime job's health care that once was bad is now great.",power:3},playerCards:[{description:"Look into the new healthcare plan and see what it has to offer.",power:5},{description:"I go to the gym and excercise regularly so I don't need it. ",power:2},{description:"Continue with no health care because nothing can happen to you and you don't need it now.",power:1}]},{lifeCard:{description:"You bought a car a year ago, saved some of your money, and want a really cool phone that all your friends have. However, the new phone would cost you your whole savings.",power:2},playerCards:[{description:"Put my savings into my emergency fund so that I have money when I need it.",power:4},{description:"Don't buy the new phone and keep doing what I've been doing.",power:2},{description:"Buy the new phone because I only live once and I'm going to treat myself.",power:1}]},{lifeCard:{description:"You were unable to afford this year's taxes after you've filed.",power:3},playerCards:[{description:"Start saving my money up to pay my taxes.",power:4},{description:"Continue on with no current plans of paying my taxes off and solve this problem next year.",power:2},{description:"Don't plan on paying the taxes; the IRS won't come for me!",power:1}]},{lifeCard:{description:"Your friend is trying to convince you about a certain stock to invest in.",power:3},playerCards:[{description:"Do my own research on the stock and invest what I can afford if I have deemed it worthy.",power:4},{description:"Trust in you friend's judgement and invest what you can afford to.",power:2},{description:"Blindly invest because life is all about the risk",power:1}]},{lifeCard:{description:"You want to buy a house because of the current housing market.",power:3},playerCards:[{description:"Figure out how much I have in my savings to see if I can afford the starting costs of owning a home in an affordable area.",power:5},{description:"Consult with a realtor or a real-estate investor, try to find my dream home.",power:2},{description:"Plan to buy a house for well over the asking price so I can increase my odds of getting the house.",power:1}]},{lifeCard:{description:"Your credit card debt is starting to pile up and you want a new flatscreen TV for Superbowl Sunday. You haven't been making payments.",power:3},playerCards:[{description:"Don't buy the tv and plan for paying off your credit card debt.",power:4},{description:"Start planning and budgeting for paying off your credit card debt but still buy the tv.",power:3},{description:"Don't worry about it now, buy the TV.",power:1}]}];function player(){return{playTurn:function(e){cardSelected||(cardSelected=!0,e.classList.add("played-card"),eCache.board.classList.add("card-selected"),setTimeout(function(){document.querySelector(".life-card").classList.add("reveal-power")},500),setTimeout(function(){document.querySelector(".played-card").classList.add("reveal-power")},800),setTimeout(function(){for(var e=0;e<allCardElements.length;e++)allCardElements[e].classList.add("reveal-power");var r=document.querySelector(".played-card"),a=r.querySelector(".power"),t=document.querySelector(".life-card"),o=t.querySelector(".power"),n=parseInt(a.innerHTML)-parseInt(o.innerHTML);n<0?(board.points.player=board.points.player+n,t.classList.add("better-card"),r.classList.add("worse-card"),eCache.playerIcon.classList.add("ouch")):n>0?(board.points.life=board.points.life-n,r.classList.add("better-card"),t.classList.add("worse-card"),eCache.lifeIcon.classList.add("ouch")):(r.classList.add("tie-card"),t.classList.add("tie-card")),board.render.points();var i=board.checkWin();null!==i?(eCache.board.classList.add("game-over"),eCache.winnerSection.style.display="flex",eCache.winnerSection.classList.remove("player-color","life-color"),document.querySelector(".winner-message").innerHTML="life"==i?"Game over: you got pwned by the game of life, my friend! </3":"You won! Now go save some money in real life.",eCache.winnerSection.classList.add("life"==i?"life-color":"player-color")):eCache.nextTurnBtn.removeAttribute("disabled")},1400))}}}var gamePlay=function(){eCache.nextTurnBtn.addEventListener("click",function(){e()});var e=function(){cardSelected=!1,eCache.nextTurnBtn.setAttribute("disabled","true"),eCache.board.classList.remove("card-selected"),eCache.playerIcon.classList.remove("ouch"),eCache.lifeIcon.classList.remove("ouch");for(var e=0;e<allCardElements.length;e++){allCardElements[e].classList.remove("showCard")}setTimeout(function(){var e=0,r=function(e){var r,a,t;for(t=e.length;t;t--)r=Math.floor(Math.random()*t),a=e[t-1],e[t-1]=e[r],e[r]=a;return e}([0,1,2]),a=Math.floor(Math.random()*scenarios.length),t=scenarios[a];scenarios.splice(a,1);for(var o=t.lifeCard,n=document.querySelector(".life-area .card"),i=t.playerCards,s=0;s<allCardElements.length;s++){var l=allCardElements[s];l.classList.remove("worse-card"),l.classList.remove("better-card"),l.classList.remove("played-card"),l.classList.remove("tie-card"),l.classList.remove("prepared"),l.classList.remove("reveal-power"),l.classList.contains("player-card")&&(l.querySelector(".text").innerHTML=i[r[e]].description,l.querySelector(".power").innerHTML=i[r[e]].power,e++),setTimeout(function(e){return function(){e.classList.remove("prepared"),e.style.display="block",e.classList.add("showCard")}}(l),200*parseInt(s+1))}n.querySelector(".text").innerHTML=o.description,n.querySelector(".power").innerHTML=o.power},500)},r=eCache.board;r.classList.remove("before-game"),r.classList.add("during-game"),e()};eCache.startGmBtn.addEventListener("click",function(){gamePlay()});var modal=document.getElementById("info-modal"),btn=document.getElementById("info-btn"),span=document.getElementsByClassName("close")[0];btn.onclick=function(){modal.style.display="block"},span.onclick=function(){modal.style.display="none"},window.onclick=function(e){e.target==modal&&(modal.style.display="none")};